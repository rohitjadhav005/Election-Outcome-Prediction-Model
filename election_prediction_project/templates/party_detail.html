{% extends "base.html" %}

{% block title %}{{ party.party_name }} - Election Outcome Prediction{% endblock %}
{% block meta_description %}Detailed information about {{ party.party_name }} including historical performance and
statistics{% endblock %}

{% block content %}
<div class="container">
    <!-- Party Header -->
    <header class="header" style="margin-top: 30px;">
        <h1 class="logo">{{ party.icon }} {{ party.party_name }}</h1>
        <p class="tagline">{{ party.description }}</p>
    </header>

    <!-- Party Details Card -->
    <section class="form-section">
        <div class="form-card">
            <h2 class="form-title">Party Statistics</h2>

            <!-- Current Stats -->
            <div class="party-stats" style="margin-bottom: 30px;">
                <div class="party-stat">
                    <div class="stat-label">Current MLA Strength</div>
                    <div class="stat-value">{{ party.current_mla_strength }}</div>
                </div>
                <div class="party-stat">
                    <div class="stat-label">Alliance Strength</div>
                    <div class="stat-value">{{ party.current_alliance_strength }}</div>
                </div>
                <div class="party-stat">
                    <div class="stat-label">Total RS Wins</div>
                    <div class="stat-value">{{ party.total_rs_wins }}</div>
                </div>
                <div class="party-stat">
                    <div class="stat-label">Win Rate</div>
                    <div class="stat-value">{{ "%.1f"|format(party.win_rate) }}%</div>
                </div>
            </div>

            <!-- Historical Performance -->
            <h3 style="font-size: 1.5rem; margin-bottom: 20px; color: white;">ðŸ“ˆ Historical Performance</h3>
            <div style="overflow-x: auto;">
                <table style="width: 100%; border-collapse: collapse;">
                    <thead>
                        <tr style="background: rgba(52, 152, 219, 0.2);">
                            <th
                                style="padding: 12px; text-align: left; border-bottom: 2px solid #3498db; color: white;">
                                Year</th>
                            <th
                                style="padding: 12px; text-align: center; border-bottom: 2px solid #3498db; color: white;">
                                MLA
                                Strength</th>
                            <th
                                style="padding: 12px; text-align: center; border-bottom: 2px solid #3498db; color: white;">
                                Alliance
                                Strength</th>
                            <th
                                style="padding: 12px; text-align: center; border-bottom: 2px solid #3498db; color: white;">
                                RS Wins
                            </th>
                            <th
                                style="padding: 12px; text-align: center; border-bottom: 2px solid #3498db; color: white;">
                                Result</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for record in party.historical_data %}
                        <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                            <td style="padding: 12px; font-weight: 600; color: rgba(255, 255, 255, 0.95);">{{
                                record.year }}</td>
                            <td style="padding: 12px; text-align: center; color: rgba(255, 255, 255, 0.85);">{{
                                record.mla_strength }}</td>
                            <td style="padding: 12px; text-align: center; color: rgba(255, 255, 255, 0.85);">{{
                                record.alliance_mla_strength }}</td>
                            <td style="padding: 12px; text-align: center; color: rgba(255, 255, 255, 0.85);">{{
                                record.past_rs_wins }}</td>
                            <td style="padding: 12px; text-align: center;">
                                {% if record.winner == 1 %}
                                <span style="color: #2ecc71; font-weight: 700;">âœ“ Win</span>
                                {% else %}
                                <span style="color: #e74c3c; font-weight: 700;">âœ— Loss</span>
                                {% endif %}
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>

            <!-- Predict with this Party Button -->
            <div style="margin-top: 30px; text-align: center;">
                <a href="/?party={{ party.party_name }}" class="submit-btn"
                    style="display: inline-flex; text-decoration: none;">
                    <span class="btn-text">Predict with {{ party.party_name }}</span>
                    <span class="btn-icon">ðŸ”®</span>
                </a>
            </div>
        </div>
    </section>
</div>
{% endblock %}